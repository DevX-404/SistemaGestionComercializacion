<template>
  <aside class="sidebar-argon">
    <div class="logo-area">
      <div class="icon-logo">ğŸ‘¾</div>
      <div class="brand-text">
        <h2>Monster<span class="light">Sys</span></h2>
      </div>
      <button class="close-mobile" @click="$emit('close')">Ã—</button>
    </div>

    <nav class="menu-scroll no-scroll-bar">
      
      <p class="menu-header">PRINCIPAL</p>
      <router-link :to="{ name: 'dashboard' }" class="nav-link">
        <div class="icon-shape icon-blue">ğŸ“Š</div> <span class="link-text">Dashboard</span>
      </router-link>

      <p class="menu-header">COMERCIAL</p>
      <router-link :to="{ name: 'ventas-pos' }" class="nav-link">
        <div class="icon-shape icon-green">ğŸ›’</div> <span class="link-text">Punto de Venta</span>
      </router-link>
      <router-link :to="{ name: 'cuentas-cobrar' }" class="nav-link">
        <div class="icon-shape icon-orange">ğŸ’³</div> <span class="link-text">CrÃ©ditos</span>
      </router-link>
      <router-link :to="{ name: 'clientes' }" class="nav-link">
        <div class="icon-shape icon-info">ğŸ‘¥</div> <span class="link-text">Clientes</span>
      </router-link>

      <p class="menu-header">LOGÃSTICA</p>
      <router-link :to="{ name: 'admin-productos' }" class="nav-link">
        <div class="icon-shape icon-red">ğŸ“¦</div> <span class="link-text">Productos</span>
      </router-link>
      <router-link :to="{ name: 'categorias' }" class="nav-link">
        <div class="icon-shape icon-pink">ğŸ·ï¸</div> <span class="link-text">CategorÃ­as</span>
      </router-link>
      <router-link :to="{ name: 'proveedores' }" class="nav-link">
        <div class="icon-shape icon-yellow">ğŸšš</div> <span class="link-text">Proveedores</span>
      </router-link>
      <router-link :to="{ name: 'kardex' }" class="nav-link">
        <div class="icon-shape icon-purple">ğŸ“‹</div> <span class="link-text">Kardex</span>
      </router-link>

      <p class="menu-header">CONTROL</p>
      <router-link :to="{ name: 'reportes' }" class="nav-link">
        <div class="icon-shape icon-teal">ğŸ“ˆ</div> <span class="link-text">Reportes</span>
      </router-link>
      <router-link :to="{ name: 'usuarios' }" class="nav-link">
        <div class="icon-shape icon-gray">ğŸ›¡ï¸</div> <span class="link-text">Usuarios</span>
      </router-link>

    </nav>

    <div class="logout-wrapper">
        <button @click="logout" class="btn-logout">
            <span>ğŸšª</span> Salir
        </button>
    </div>
  </aside>
</template>

<script setup>
import { useAuthStore } from '../../stores/auth';
const auth = useAuthStore();
const logout = () => { if(confirm('Â¿Salir?')) auth.logout(); };
defineEmits(['close']);
</script>

<style scoped>
/* TRUCO MAESTRO PARA OCULTAR SCROLLBAR PERO MANTENER SCROLL */
.no-scroll-bar {
  overflow-y: auto; /* Permite scroll */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none;  /* IE 10+ */
}
.no-scroll-bar::-webkit-scrollbar { 
  display: none; /* Chrome, Safari, Opera */
}

.sidebar-argon {
  background: linear-gradient(180deg, #1a174d 0%, #172b4d 100%);
  color: white;
  display: flex;
  flex-direction: column;
  height: 100%; /* Ocupa el 100% del contenedor padre (que es fixed) */
}

.logo-area {
  padding: 20px;
  display: flex; align-items: center; gap: 10px;
  border-bottom: 1px solid rgba(255,255,255,0.05);
  min-height: 70px;
}
.icon-logo { font-size: 1.8rem; }
.brand-text h2 { margin: 0; font-size: 1.2rem; font-weight: 800; color: white; }
.light { color: #11cdef; }

.close-mobile {
  margin-left: auto; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; display: none;
}
@media(max-width: 992px) { .close-mobile { display: block; } }

.menu-scroll { flex: 1; padding: 10px 15px; }

/* Compactamos un poco para que quepan mÃ¡s */
.menu-header { 
  color: #6a7896; font-size: 0.75rem; font-weight: 700; letter-spacing: 1px; 
  margin: 15px 0 5px 10px; 
}

.nav-link {
  display: flex; align-items: center; padding: 10px 12px; /* Menos padding vertical */
  color: rgba(255,255,255,0.7); text-decoration: none; border-radius: 8px;
  font-size: 0.85rem; transition: 0.2s;
}
.nav-link:hover { background: rgba(255,255,255,0.1); color: white; }
.nav-link.router-link-active { background: white; color: #172b4d; font-weight: 600; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

.icon-shape {
  width: 26px; height: 26px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
  margin-right: 10px; background: rgba(255,255,255,0.1); font-size: 0.8rem;
}
.router-link-active .icon-shape { background: #5e72e4; color: white; }

/* Colores iconos */
.icon-blue { color: #5e72e4; } .icon-green { color: #2dce89; } .icon-orange { color: #fb6340; }
.icon-red { color: #f5365c; } .icon-purple { color: #8965e0; } .icon-info { color: #11cdef; } .icon-pink { color: #e83e8c; } .icon-yellow { color: #ffd600; } .icon-teal { color: #11cdef; } .icon-gray { color: #adb5bd; }

.logout-wrapper { padding: 15px; border-top: 1px solid rgba(255,255,255,0.05); }
.btn-logout { width: 100%; padding: 10px; background: rgba(245, 54, 92, 0.1); color: #f5365c; border: 1px solid rgba(245, 54, 92, 0.3); border-radius: 6px; font-weight: bold; font-size: 0.85rem; transition: 0.2s; cursor: pointer;}
.btn-logout:hover { background: #f5365c; color: white; }
</style>